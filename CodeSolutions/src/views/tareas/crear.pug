extends ../layouts/main

block contenido
  h1 Crear Nueva Tarea

  
  form(action="/tareas/crear" method="POST")
    // Nombre de la tarea
    div.form-group
      label(for="nombre") Nombre de la tarea
      input.form-control(type="text" name="nombre" id="nombre" required)

    // Proyecto asociado
    div.form-group
      label(for="proyectoId") Proyecto
      select.form-control(name="proyectoId" id="proyectoId" required)
        if proyectos && proyectos.length > 0
          each proyecto in proyectos
            option(value=proyecto.id)= proyecto.nombre
        else
          option(disabled selected) No hay proyectos disponibles

    // Estado de la tarea
    div.form-group
      label(for="estado") Estado
      select.form-control(name="estado" id="estado" required)
        option(value="Pendiente") Pendiente
        option(value="En progreso") En progreso


    // Horas estimadas
    div.form-group
      label(for="horasEstimadas") Horas Estimadas
      input.form-control(type="number" name="horasEstimadas" id="horasEstimadas" min="0")

    // Horas registradas
    div.form-group
      label(for="horasRegistradas") Horas Registradas
      input.form-control(type="number" name="horasRegistradas" id="horasRegistradas" min="0" value="0")

    // Empleados asignados
    div.form-group
      label Empleados asignados
      div.empleados-checkboxes
        if empleados && empleados.length > 0
          each empleado in empleados
            label.checkbox-item
              input(
                type="checkbox"
                name="empleadosAsignados"
                value=empleado.id
              )
              | #{empleado.nombre} (#{empleado.rol})
        else
          p No hay empleados disponibles

    // Botones
    button.btn.btn-success(type="submit") Crear Tarea
    a.btn.btn-secondary(href="/tareas") Cancelar
