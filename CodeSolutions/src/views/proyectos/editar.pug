extends ../layouts/main

block contenido
  h1 Editar Proyecto

  form(action=`/proyectos/editar/${proyecto.id}?_method=PUT` method="POST")
    div.form-group
      label(for="nombre") Nombre del proyecto
      input.form-control(type="text" name="nombre" id="nombre" required value=proyecto.nombre)

    div.form-group
      label(for="cliente") Cliente
      input.form-control(type="text" name="cliente" id="cliente" required value=proyecto.cliente)

    div.form-group
      label(for="estado") Estado
      select.form-control(name="estado" id="estado" required)
        each estado in estadosValidos
          option(value=estado selected=(proyecto && proyecto.estado === estado))= estado

    div.form-group
      label(for="descripcion") DescripciÃ³n
      textarea.form-control(name="descripcion" id="descripcion" rows="3")= proyecto.descripcion

    div.form-group
      label Empleados asignados
      div.empleados-checkboxes
        if empleados && empleados.length > 0
          each empleado in empleados
            label.checkbox-item
              input(
                type="checkbox"
                name="empleadosAsignados"
                value=empleado.id
                checked=(proyecto.empleadosAsignados && proyecto.empleadosAsignados.includes(empleado.id))
              )
              | #{empleado.nombre} (#{empleado.rol})

        else
          p No hay empleados disponibles

    button.btn.btn-primary(type="submit") Guardar Cambios
    a.btn.btn-secondary(href="/proyectos") Cancelar
